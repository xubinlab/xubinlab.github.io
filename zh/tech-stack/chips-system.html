<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>芯片与系统集成 · Chips &amp; System Integration | Xu Bin Lab</title>
  <link rel="stylesheet" href="/assets/css/main.css">
  <script src="/assets/js/site-nav.js"></script>
</head>
<body>
<header id="site-nav"></header>

<main>
  <section id="chips-system">
    <h2>芯片与系统集成 · Chips &amp; System Integration</h2>
    <p class="muted">
      在不涉密的前提下，讨论如何理解国产芯片架构，以及如何将 CFD / CAE 求解器与自研芯片、
      整机系统打通，实现软硬件协同设计。
    </p>

    <h3>1. 芯片架构理解（Chip Architecture Understanding）</h3>
    <p class="muted">
      理解芯片的计算单元、内存层次、带宽特性，是软硬件协同的基础。
    </p>
    <ul>
      <li>
        <strong>1.1 计算阵列与核心</strong>  
        计算单元的组织方式、峰值算力、指令集特性。
        不同计算单元适合的算子类型（矩阵-向量、多右端、多网格等）。
      </li>
      <li>
        <strong>1.2 内存层次</strong>  
        片上缓存、片外内存、带宽与延迟特性。
        如何通过数据布局和访存模式匹配内存层次。
      </li>
      <li>
        <strong>1.3 通信与互联</strong>  
        芯片内部通信、多芯片互联、与 CPU 的接口。
        通信开销对算法设计的影响。
      </li>
      <li>
        <strong>1.4 功耗与热管理</strong>  
        功耗特性、热设计、性能-功耗权衡。
        在工程应用中如何平衡性能和能效。
      </li>
    </ul>

    <h3>2. 算子映射（Operator Mapping）</h3>
    <p class="muted">
      不是所有算子都适合上芯片，需要识别哪些算子能获得显著加速，哪些应该留在 CPU 侧。
    </p>
    <ul>
      <li>
        <strong>2.1 适合芯片的算子</strong>
        <ul>
          <li>稀疏矩阵-向量乘（SpMV）：计算密集、访存模式规整。</li>
          <li>多右端线性系统求解：可以复用矩阵分解，提高利用率。</li>
          <li>多网格算子：V-cycle、W-cycle 中的矩阵运算。</li>
          <li>向量运算：点积、范数计算等基础操作。</li>
        </ul>
      </li>
      <li>
        <strong>2.2 不适合或需要权衡的算子</strong>
        <ul>
          <li>不规则访存：某些稀疏矩阵格式、非结构化网格遍历。</li>
          <li>控制流复杂：条件分支多、递归算法。</li>
          <li>小规模计算：通信开销大于计算收益。</li>
        </ul>
      </li>
      <li>
        <strong>2.3 混合计算策略</strong>  
        如何划分 CPU 和芯片的计算任务，最小化数据传输开销。
        流水线设计、异步计算、重叠通信与计算。
      </li>
    </ul>

    <h3>3. 数据布局（Data Layout）</h3>
    <ul>
      <li>
        <strong>3.1 稀疏矩阵存储格式</strong>
        <ul>
          <li>CSR、CSC、COO 等经典格式在芯片上的表现。</li>
          <li>自定义格式：针对特定芯片架构优化的存储方式。</li>
          <li>格式转换开销：何时值得做格式转换。</li>
        </ul>
      </li>
      <li>
        <strong>3.2 访存模式优化</strong>
        <ul>
          <li>数据对齐、缓存行对齐。</li>
          <li>预取策略、数据预加载。</li>
          <li>减少随机访存，提高顺序访存比例。</li>
        </ul>
      </li>
      <li>
        <strong>3.3 内存管理</strong>  
        片上内存 vs 片外内存的使用策略。
        内存池、零拷贝、数据复用等优化手段。
      </li>
    </ul>

    <h3>4. 系统集成（System Integration）</h3>
    <p class="muted">
      从 CFD 求解器到软硬件一体计算平台的接口设计与调度逻辑。
    </p>
    <ul>
      <li>
        <strong>4.1 接口设计</strong>
        <ul>
          <li>API 设计：如何封装芯片功能，提供简洁的调用接口。</li>
          <li>数据接口：输入输出格式、数据校验、错误处理。</li>
          <li>异步接口：非阻塞调用、回调机制、事件驱动。</li>
        </ul>
      </li>
      <li>
        <strong>4.2 任务调度</strong>
        <ul>
          <li>任务队列、优先级调度、负载均衡。</li>
          <li>多任务并发：如何管理多个芯片任务或芯片与 CPU 的混合任务。</li>
          <li>资源管理：内存、计算资源的分配与回收。</li>
        </ul>
      </li>
      <li>
        <strong>4.3 错误处理与容错</strong>  
        异常检测、降级策略、数据一致性保证。
        在工程应用中如何保证系统的鲁棒性。
      </li>
      <li>
        <strong>4.4 调试与性能分析</strong>  
        芯片侧的性能监控、瓶颈识别、调试工具链。
        如何定位软硬件协同中的问题。
      </li>
    </ul>

    <h3>5. 性能对标（Performance Benchmarking）</h3>
    <ul>
      <li>
        <strong>5.1 加速比分析</strong>  
        与常规 CPU / GPU 的对比，不同算例规模下的加速效果。
        如何客观评估芯片带来的性能提升。
      </li>
      <li>
        <strong>5.2 能效分析</strong>  
        性能-功耗比、能效提升、成本效益分析。
      </li>
      <li>
        <strong>5.3 规模扩展</strong>  
        多芯片扩展、大规模算例下的性能表现。
        扩展性瓶颈与优化方向。
      </li>
      <li>
        <strong>5.4 工程可用性</strong>  
        稳定性、可复现性、易用性等工程指标。
        如何在性能与工程可用性之间平衡。
      </li>
    </ul>

    <h3>6. 我的实践（My Practice）</h3>
    <p>
      目前主要关注：
    </p>
    <ul>
      <li>在国产自研芯片上部署 CFD 求解器的核心算子（稀疏矩阵求解、多网格等）。</li>
      <li>软硬件协同设计：从算法层面配合芯片架构，优化数据布局和访存模式。</li>
      <li>系统集成：设计接口和调度逻辑，将芯片加速无缝集成到现有求解器中。</li>
      <li>性能优化与对标：在工程算例上验证加速效果和系统稳定性。</li>
    </ul>
    <p class="muted">
      后续会在 <a href="/projects/">项目案例</a> 和 <a href="/notes/">技术笔记</a> 中，
      逐步展开具体的部署经验、性能分析和优化策略。
      注意：涉及芯片架构细节的内容会在不涉密的前提下进行讨论。
    </p>
  </section>
</main>

<footer>
  © <span id="year"></span> Xu Bin Lab · Chips &amp; System
</footer>
<script>
  document.getElementById('year').textContent = new Date().getFullYear();
</script>
</body>
</html>

